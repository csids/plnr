<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to plnr • plnr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to plnr">
<script data-goatcounter="https://csidsno.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://www.csids.no" class="external-link"><img src="https://www.csids.no/resources/logo/logo_full_white.svg" id="csidslogo"></a>
    <a class="navbar-brand me-2" href="../index.html">plnr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2025.3.19</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/plnr.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/adding_analyses.html">Adding analyses to a plan</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://www.csids.no/">Home</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Packages</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-packages">
<li><a class="external-link dropdown-item" href="https://www.csids.no/packages.html">Introduction</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Analysis planning</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/org/">org</a></li>
    <li><a class="dropdown-item" href="https://www.csids.no/plnr/">plnr</a></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/cs9/">cs9</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Helper functions</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/csdb/">csdb</a></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/csstyle/">csstyle</a></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/cstidy/">cstidy</a></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/cstime/">cstime</a></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/csutil/">csutil</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Surveillance</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/attrib/">attrib</a></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/csalert/">csalert</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Structural data</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/csdata/">csdata</a></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/csmaps/">csmaps</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Historical data</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/respiranor/">respiranor</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-about" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">About</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-about">
<li><a class="external-link dropdown-item" href="https://www.csids.no/about.html">About CSIDS</a></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/get_involved.html">Get involved</a></li>
  </ul>
</li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/csids/plnr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="plnr_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to plnr</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/csids/plnr/blob/HEAD/vignettes/plnr.Rmd" class="external-link"><code>vignettes/plnr.Rmd</code></a></small>
      <div class="d-none name"><code>plnr.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><code>plnr</code> is a framework for planning and executing analyses in R. It’s designed to help you organize and run multiple analyses efficiently, whether you’re applying the same function with different arguments or running multiple different functions on your data.</p>
<div class="section level3">
<h3 id="core-concepts">Core Concepts<a class="anchor" aria-label="anchor" href="#core-concepts"></a>
</h3>
<div class="section level4">
<h4 id="broad-technical-terms">Broad technical terms<a class="anchor" aria-label="anchor" href="#broad-technical-terms"></a>
</h4>
<table class="table">
<colgroup>
<col width="19%">
<col width="80%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Object</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="even">
<td>argset</td>
<td>A named list containing a set of arguments.</td>
</tr>
<tr class="odd">
<td>analysis</td>
<td>
<p>These are the fundamental units that are scheduled in <code>plnr</code>:</p>
<ul>
<li>1 argset</li>
<li>1 (action) function that takes two arguments
<ol style="list-style-type: decimal">
<li>data (named list)</li>
<li>argset (named list)</li>
</ol>
</li>
</ul>
</td>
</tr>
<tr class="even">
<td>plan</td>
<td>
<p>This is the overarching “scheduler”:</p>
<ul>
<li>1 data pull</li>
<li>1 list of analyses</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="different-types-of-plans">Different types of plans<a class="anchor" aria-label="anchor" href="#different-types-of-plans"></a>
</h4>
<table class="table">
<colgroup>
<col width="19%">
<col width="80%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Plan Type</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="even">
<td>Single-function plan</td>
<td>Same action function applied multiple times with different argsets applied to the same datasets.</td>
</tr>
<tr class="odd">
<td>Multi-function plan</td>
<td>Different action functions applied to the same datasets.</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="plan-examples">Plan Examples<a class="anchor" aria-label="anchor" href="#plan-examples"></a>
</h4>
<table class="table">
<colgroup>
<col width="19%">
<col width="80%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Plan Type</strong></td>
<td><strong>Example</strong></td>
</tr>
<tr class="even">
<td>Single-function plan</td>
<td>Multiple strata (e.g. locations, age groups) that you need to apply the same function to to (e.g. outbreak detection, trend detection, graphing).</td>
</tr>
<tr class="odd">
<td>Single-function plan</td>
<td>Multiple variables (e.g. multiple outcomes, multiple exposures) that you need to apply the same statistical methods to (e.g. regression models, correlation plots).</td>
</tr>
<tr class="even">
<td>Multi-function plan</td>
<td>Creating the output for a report (e.g. multiple different tables and graphs).</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h3>
<p>Let’s start with a simple example that demonstrates the core concepts:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.csids.no/plnr/">plnr</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## plnr 2025.3.19</span></span>
<span><span class="co">## https://www.csids.no/plnr/</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a new plan</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Plan.html">Plan</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add data</span></span>
<span><span class="va">p</span><span class="op">$</span><span class="fu">add_data</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"deaths"</span>,</span>
<span>  direct <span class="op">=</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>deaths<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, year<span class="op">=</span><span class="fl">2001</span><span class="op">:</span><span class="fl">2004</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add argsets for different years</span></span>
<span><span class="va">p</span><span class="op">$</span><span class="fu">add_argset</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"fig_1_2002"</span>,</span>
<span>  year_max <span class="op">=</span> <span class="fl">2002</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">p</span><span class="op">$</span><span class="fu">add_argset</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"fig_1_2003"</span>,</span>
<span>  year_max <span class="op">=</span> <span class="fl">2003</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define analysis function</span></span>
<span><span class="va">fn_fig_1</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">argset</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">plot_data</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">$</span><span class="va">deaths</span><span class="op">[</span><span class="va">year</span> <span class="op">&lt;=</span> <span class="va">argset</span><span class="op">$</span><span class="va">year_max</span><span class="op">]</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">plot_data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>, y<span class="op">=</span><span class="va">deaths</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="fu">glue</span><span class="fu">::</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"Deaths from 2001 until {argset$year_max}"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Apply function to all argsets</span></span>
<span><span class="va">p</span><span class="op">$</span><span class="fu">apply_action_fn_to_all_argsets</span><span class="op">(</span>fn_name <span class="op">=</span> <span class="st">"fn_fig_1"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run analyses</span></span>
<span><span class="va">p</span><span class="op">$</span><span class="fu">run_one</span><span class="op">(</span><span class="st">"fig_1_2002"</span><span class="op">)</span></span></code></pre></div>
<p><img src="plnr_files/figure-html/unnamed-chunk-1-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="advanced-features">Advanced Features<a class="anchor" aria-label="anchor" href="#advanced-features"></a>
</h3>
<div class="section level4">
<h4 id="data-management">Data Management<a class="anchor" aria-label="anchor" href="#data-management"></a>
</h4>
<p>The framework ensures efficient data management by: - Loading data once and reusing across analyses - Separating data cleaning from analysis - Providing hash-based tracking of data changes</p>
</div>
<div class="section level4">
<h4 id="debugging-tools">Debugging Tools<a class="anchor" aria-label="anchor" href="#debugging-tools"></a>
</h4>
<p><code>plnr</code> includes several tools to help with development and debugging:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Access data directly</span></span>
<span><span class="va">p</span><span class="op">$</span><span class="fu">get_data</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $deaths</span></span>
<span><span class="co">##    deaths  year</span></span>
<span><span class="co">##     &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">## 1:      1  2001</span></span>
<span><span class="co">## 2:      2  2002</span></span>
<span><span class="co">## 3:      3  2003</span></span>
<span><span class="co">## 4:      4  2004</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $hash</span></span>
<span><span class="co">## $hash$current</span></span>
<span><span class="co">## [1] "aa2296ddc2b519c9c2a3d1a39471ac9e"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $hash$current_elements</span></span>
<span><span class="co">## $hash$current_elements$deaths</span></span>
<span><span class="co">## [1] "82519debaef80054a7b2ed512f8dfb94"</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Access specific argset</span></span>
<span><span class="va">p</span><span class="op">$</span><span class="fu">get_argset</span><span class="op">(</span><span class="st">"fig_1_2002"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $year_max</span></span>
<span><span class="co">## [1] 2002</span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Access analysis by name or index</span></span>
<span><span class="va">p</span><span class="op">$</span><span class="fu">get_analysis</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $argset</span></span>
<span><span class="co">## $argset$year_max</span></span>
<span><span class="co">## [1] 2002</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $argset$index_analysis</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $fn_name</span></span>
<span><span class="co">## [1] "fn_fig_1"</span></span></code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use is_run_directly() for development</span></span>
<span><span class="va">fn_analysis</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">argset</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="fu">plnr</span><span class="fu">::</span><span class="fu"><a href="../reference/is_run_directly.html">is_run_directly</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">data</span> <span class="op">&lt;-</span> <span class="va">p</span><span class="op">$</span><span class="fu">get_data</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="va">argset</span> <span class="op">&lt;-</span> <span class="va">p</span><span class="op">$</span><span class="fu">get_argset</span><span class="op">(</span><span class="st">"fig_1_2002"</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="co"># function continues here</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="function-naming">Function Naming<a class="anchor" aria-label="anchor" href="#function-naming"></a>
</h4>
<p>When adding analyses, you can use either <code>fn_name</code> or <code>fn</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Using fn_name (recommended)</span></span>
<span><span class="va">p</span><span class="op">$</span><span class="fu">add_analysis</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"fig_1_2002"</span>,</span>
<span>  fn_name <span class="op">=</span> <span class="st">"fn_fig_1"</span>,</span>
<span>  year_max <span class="op">=</span> <span class="fl">2002</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Using fn (for function factories)</span></span>
<span><span class="va">p</span><span class="op">$</span><span class="fu">add_analysis</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"fig_1_2003"</span>,</span>
<span>  fn <span class="op">=</span> <span class="va">fn_fig_1</span>,</span>
<span>  year_max <span class="op">=</span> <span class="fl">2003</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="hash-based-caching">Hash-based Caching<a class="anchor" aria-label="anchor" href="#hash-based-caching"></a>
</h4>
<p>The framework uses hashing to track data changes:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create two plans with same data</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Plan.html">Plan</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">p1</span><span class="op">$</span><span class="fu">add_data</span><span class="op">(</span>direct <span class="op">=</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>deaths<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, year<span class="op">=</span><span class="fl">2001</span><span class="op">:</span><span class="fl">2004</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"deaths"</span><span class="op">)</span></span>
<span><span class="va">p1</span><span class="op">$</span><span class="fu">add_data</span><span class="op">(</span>direct <span class="op">=</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>deaths<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, year<span class="op">=</span><span class="fl">2001</span><span class="op">:</span><span class="fl">2004</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"deaths2"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Plan.html">Plan</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">p2</span><span class="op">$</span><span class="fu">add_data</span><span class="op">(</span>direct <span class="op">=</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>deaths<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, year<span class="op">=</span><span class="fl">2001</span><span class="op">:</span><span class="fl">2004</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"deaths"</span><span class="op">)</span></span>
<span><span class="va">p2</span><span class="op">$</span><span class="fu">add_data</span><span class="op">(</span>direct <span class="op">=</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>deaths<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, year<span class="op">=</span><span class="fl">2001</span><span class="op">:</span><span class="fl">2004</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"deaths2"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Same data has same hash</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">p1</span><span class="op">$</span><span class="fu">get_data</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">hash</span><span class="op">$</span><span class="va">current_elements</span>, <span class="va">p2</span><span class="op">$</span><span class="fu">get_data</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">hash</span><span class="op">$</span><span class="va">current_elements</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Different data has different hash</span></span>
<span><span class="va">p1</span><span class="op">$</span><span class="fu">add_data</span><span class="op">(</span>direct <span class="op">=</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>deaths<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, year<span class="op">=</span><span class="fl">2001</span><span class="op">:</span><span class="fl">2005</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"deaths3"</span><span class="op">)</span></span>
<span><span class="va">p1</span><span class="op">$</span><span class="fu">get_data</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">hash</span><span class="op">$</span><span class="va">current_elements</span></span></code></pre></div>
<pre><code><span><span class="co">## $deaths</span></span>
<span><span class="co">## [1] "82519debaef80054a7b2ed512f8dfb94"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $deaths2</span></span>
<span><span class="co">## [1] "82519debaef80054a7b2ed512f8dfb94"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $deaths3</span></span>
<span><span class="co">## [1] "d740b5c163d702dde31061bcd9e00716"</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="best-practices">Best Practices<a class="anchor" aria-label="anchor" href="#best-practices"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<strong>Data Organization</strong>
<ul>
<li>Keep data cleaning separate from analysis</li>
<li>Use meaningful names for datasets</li>
<li>Document data structure and assumptions</li>
</ul>
</li>
<li>
<strong>Analysis Functions</strong>
<ul>
<li>Always accept <code>data</code> and <code>argset</code> parameters</li>
<li>Use <code><a href="../reference/is_run_directly.html">is_run_directly()</a></code> for development</li>
<li>Keep functions focused and single-purpose</li>
</ul>
</li>
<li>
<strong>Plan Structure</strong>
<ul>
<li>Use meaningful names for argsets and analyses</li>
<li>Group related analyses together</li>
<li>Document plan structure and dependencies</li>
</ul>
</li>
<li>
<strong>Development Workflow</strong>
<ul>
<li>Start with small examples</li>
<li>Use debugging tools during development</li>
<li>Test analyses individually before running full plan</li>
</ul>
</li>
</ol>
</div>
<div class="section level3">
<h3 id="next-steps">Next Steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Read the <a href="https://www.csids.no/plnr/articles/adding_analyses.html">Adding Analyses</a> vignette for more detailed examples</li>
<li>Check out the <a href="https://www.csids.no/plnr/">package website</a> for additional resources</li>
<li>Explore the function documentation with <code><a href="https://www.csids.no/plnr/reference">help(package="plnr")</a></code>
</li>
</ol>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p><a href="https://www.csids.no" class="external-link"><img src="https://www.csids.no/resources/logo/logo_full_blue.svg" width="200"></a></p>
</div>

<div class="pkgdown-footer-right">
  <p>Crafted by <a href="https://www.rwhite.no" class="external-link">Richard Aubrey White</a>.</p>
</div>

    </footer>
</div>





  </body>
</html>
