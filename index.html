<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>A Framework for Planning and Executing Analyses • plnr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="A Framework for Planning and Executing Analyses">
<meta name="description" content="A comprehensive framework for planning and executing analyses in R. It provides a structured approach to running the same function multiple times with different arguments, executing multiple functions on the same datasets, and creating systematic analyses across multiple strata or variables. The framework is particularly useful for applying the same analysis across multiple strata (e.g., locations, age groups), running statistical methods on multiple variables (e.g., exposures, outcomes), generating multiple tables or graphs for reports, and creating systematic surveillance analyses. Key features include efficient data management, structured analysis planning, flexible execution options, built-in debugging tools, and hash-based caching.">
<meta property="og:description" content="A comprehensive framework for planning and executing analyses in R. It provides a structured approach to running the same function multiple times with different arguments, executing multiple functions on the same datasets, and creating systematic analyses across multiple strata or variables. The framework is particularly useful for applying the same analysis across multiple strata (e.g., locations, age groups), running statistical methods on multiple variables (e.g., exposures, outcomes), generating multiple tables or graphs for reports, and creating systematic surveillance analyses. Key features include efficient data management, structured analysis planning, flexible execution options, built-in debugging tools, and hash-based caching.">
<meta property="og:image" content="https://www.csids.no/plnr/logo.png">
<script data-goatcounter="https://csidsno.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://www.csids.no" class="external-link"><img src="https://www.csids.no/resources/logo/logo_full_white.svg" id="csidslogo"></a>
    <a class="navbar-brand me-2" href="index.html">plnr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2025.3.19</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/plnr.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/adding_analyses.html">Adding analyses to a plan</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">News</a></li>
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://www.csids.no/">Home</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Packages</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-packages">
<li><a class="external-link dropdown-item" href="https://www.csids.no/packages.html">Introduction</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Analysis planning</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/org/">org</a></li>
    <li><a class="dropdown-item" href="https://www.csids.no/plnr/">plnr</a></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/cs9/">cs9</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Helper functions</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/csdb/">csdb</a></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/csstyle/">csstyle</a></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/cstidy/">cstidy</a></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/cstime/">cstime</a></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/csutil/">csutil</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Surveillance</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/attrib/">attrib</a></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/csalert/">csalert</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Structural data</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/csdata/">csdata</a></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/csmaps/">csmaps</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Historical data</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/respiranor/">respiranor</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-about" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">About</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-about">
<li><a class="external-link dropdown-item" href="https://www.csids.no/about.html">About CSIDS</a></li>
    <li><a class="external-link dropdown-item" href="https://www.csids.no/get_involved.html">Get involved</a></li>
  </ul>
</li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/csids/plnr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="plnr-">plnr 
<a class="anchor" aria-label="anchor" href="#plnr-"></a>
</h1>
</div>
<p><a href="https://cran.r-project.org/package=plnr" class="external-link"><img src="https://www.r-pkg.org/badges/version/plnr" alt="CRAN status"></a> <a href="https://cran.r-project.org/package=plnr" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/plnr" alt="CRAN downloads"></a></p>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p><a href="https://www.csids.no/plnr/">plnr</a> is a powerful framework for planning and executing analyses in R. It’s designed for scenarios where you need to:</p>
<ul>
<li>Run the same function multiple times with different arguments</li>
<li>Execute multiple different functions on the same datasets</li>
<li>Create systematic analyses across multiple strata or variables</li>
</ul>
<div class="section level3">
<h3 id="key-features">Key Features<a class="anchor" aria-label="anchor" href="#key-features"></a>
</h3>
<ul>
<li>
<strong>Efficient Data Management</strong>: Load data once and reuse across multiple analyses</li>
<li>
<strong>Structured Analysis Planning</strong>: Organize analyses into clear, maintainable plans</li>
<li>
<strong>Flexible Execution</strong>: Support for both single-function and multi-function analysis plans</li>
<li>
<strong>Built-in Debugging</strong>: Convenient tools for development and testing</li>
<li>
<strong>Parallel Processing</strong>: Optional parallel execution of analyses</li>
<li>
<strong>Hash-based Caching</strong>: Track data changes and optimize execution</li>
</ul>
</div>
<div class="section level3">
<h3 id="common-use-cases">Common Use Cases<a class="anchor" aria-label="anchor" href="#common-use-cases"></a>
</h3>
<ul>
<li>Applying the same analysis across multiple strata (e.g., locations, age groups)</li>
<li>Running statistical methods on multiple variables (e.g., exposures, outcomes)</li>
<li>Generating multiple tables or graphs for reports</li>
<li>Creating systematic surveillance analyses</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="section level3">
<h3 id="from-cran">From CRAN<a class="anchor" aria-label="anchor" href="#from-cran"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"plnr"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="development-version">Development Version<a class="anchor" aria-label="anchor" href="#development-version"></a>
</h3>
<p>To install the development version or access packages that haven’t been released on CRAN:</p>
<ol style="list-style-type: decimal"><li>Edit your <code>.Rprofile</code>:</li></ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/edit.html" class="external-link">edit_r_profile</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal"><li>Add the following configuration:</li></ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span></span>
<span>  repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/structure.html" class="external-link">structure</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    CSVERSE <span class="op">=</span> <span class="st">"https://www.csids.no/drat/"</span>,</span>
<span>    CRAN    <span class="op">=</span> <span class="st">"https://cran.rstudio.com"</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal"><li>Restart R and install:</li></ol>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"plnr"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Read the <a href="https://www.csids.no/plnr/articles/plnr.html">introduction vignette</a>
</li>
<li>Check out the <a href="https://www.csids.no/plnr/articles/adding_analyses.html">adding analyses guide</a>
</li>
<li>Run <code><a href="https://www.csids.no/plnr/reference">help(package="plnr")</a></code> for detailed function documentation</li>
</ol>
</div>
<div class="section level2">
<h2 id="quick-example">Quick Example<a class="anchor" aria-label="anchor" href="#quick-example"></a>
</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.csids.no/plnr/">plnr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a new plan</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="va"><a href="reference/Plan.html">Plan</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add data</span></span>
<span><span class="va">p</span><span class="op">$</span><span class="fu">add_data</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"deaths"</span>,</span>
<span>  direct <span class="op">=</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>deaths<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, year<span class="op">=</span><span class="fl">2001</span><span class="op">:</span><span class="fl">2004</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add analyses for different years</span></span>
<span><span class="va">p</span><span class="op">$</span><span class="fu">add_argset</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"fig_1_2002"</span>, year_max <span class="op">=</span> <span class="fl">2002</span><span class="op">)</span></span>
<span><span class="va">p</span><span class="op">$</span><span class="fu">add_argset</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"fig_1_2003"</span>, year_max <span class="op">=</span> <span class="fl">2003</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define analysis function</span></span>
<span><span class="va">fn_fig_1</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">argset</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">plot_data</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">$</span><span class="va">deaths</span><span class="op">[</span><span class="va">year</span> <span class="op">&lt;=</span> <span class="va">argset</span><span class="op">$</span><span class="va">year_max</span><span class="op">]</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">plot_data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>, y<span class="op">=</span><span class="va">deaths</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="fu">glue</span><span class="fu">::</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"Deaths from 2001 until {argset$year_max}"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Apply function to all argsets</span></span>
<span><span class="va">p</span><span class="op">$</span><span class="fu">apply_action_fn_to_all_argsets</span><span class="op">(</span>fn_name <span class="op">=</span> <span class="st">"fn_fig_1"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run analyses</span></span>
<span><span class="va">p</span><span class="op">$</span><span class="fu">run_one</span><span class="op">(</span><span class="st">"fig_1_2002"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>Contributions are welcome! Please feel free to submit a <a href="https://github.com/csids/plnr/pulls" class="external-link">Pull Request</a>.</p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>This package is licensed under the MIT License - see the <a href="LICENSE">LICENSE</a> file for details.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=plnr" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/csids/plnr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/csids/plnr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing plnr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.rwhite.no" class="external-link">Richard Aubrey White</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-6747-1726" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>
<a href="https://www.csids.no" class="external-link"><img src="https://www.csids.no/resources/logo/logo_full_blue.svg" width="200"></a> <br><small class="roles"> Copyright holder </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p><a href="https://www.csids.no" class="external-link"><img src="https://www.csids.no/resources/logo/logo_full_blue.svg" width="200"></a></p>
</div>

<div class="pkgdown-footer-right">
  <p>Crafted by <a href="https://www.rwhite.no" class="external-link">Richard Aubrey White</a>.</p>
</div>

    </footer>
</div>





  </body>
</html>
